<!--
  Generated template for the SendpicturePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header class="skin skin-white">
    <ion-navbar>
        <button ion-button menuToggle>
            <ion-icon name="menu"></ion-icon>
        </button>
        <ion-title>Envoyer photo</ion-title>
    </ion-navbar>
</ion-header>

<ion-content class="white" *ngIf="!showPreviewOverlay">


    <div class="white about-v1">
        <div padding class="ani-right-to-left">
            <div class="form-mess mgt-5 pdb-50 ani-bottom-to-top">
                <h4 class="fs-26 fw-600">Envoyer photo</h4>

                <div class="instruction-link">
                    <a href="#" (click)="openLink()">Instructions</a>
                </div>
                <ion-list>
                    <ion-item class="text-grey-5 grey-1 round">
                        <ion-input type="text" placeholder="Fullname" [(ngModel)]="fullname"></ion-input>
                    </ion-item>
                </ion-list>
                <ion-list>
                    <ion-item class="text-grey-5 grey-1 round">
                        <ion-input type="email" placeholder="Email" [(ngModel)]="email"></ion-input>
                    </ion-item>
                </ion-list>
                <ion-list>
                    <ion-item class="text-grey-5 grey-1 bdra-15">
                        <ion-textarea type="text" placeholder="Message" [(ngModel)]="message"></ion-textarea>
                    </ion-item>
                </ion-list>

                <ion-grid>
                    <ion-row>
                        <ion-col col-4 class="picturetemplate" *ngFor="let data of picturesView; let i = index">
                            <div class="box" *ngIf="data.type != 'center_logo'">
                                <img [src]="data.imgFile?data.imgFile:'./assets/'+data.placeholder"/>
                                <button ion-button icon-only (click)="showActionSheet(i)">
                                    <ion-icon class="text-pink" name="md-reverse-camera"></ion-icon>
                                </button>
                            </div>

                            <div class="box transparent" *ngIf="data.type == 'center_logo'">
                                <img [src]="'./assets/'+data.placeholder"/>
                            </div>
                        </ion-col>
                    </ion-row>
                </ion-grid>


                <div class="text-right">
                    <button ion-button round icon-left class="pink text-white mgt-10" (click)="sendMessage()">
                        <ion-icon class="text-pink" name="send"></ion-icon>
                        Send 
                    </button>
                </div>
            </div>
        </div>
    </div>
</ion-content>

<div class="my-overlay" padding *ngIf="showPreviewOverlay">
    <div class="imgbox" *ngIf="!pictureTaken && index == 6">
        <img class="center-fit" src='assets/picturetemplate/teeth_right_occlusion.png'>
    </div>
    <div class="imgbox" *ngIf="!pictureTaken && index == 7">
        <img class="center-fit" src='assets/picturetemplate/teeth_front_occlusion.png'>
    </div>
    <div class="imgbox" *ngIf="!pictureTaken && index == 8">
        <img class="center-fit" src='assets/picturetemplate/teeth_left_occlusion.png'>
    </div>
    <div class="imgbox" *ngIf="pictureTaken">
        <img class="center-fit" src="{{base64Image}}">
    </div>

    <div class="buttonbox" *ngIf="!pictureTaken" (click)="takePicturePreview()">
      <img class="center-fit" src='assets/icon/btn_icon3.png'>
    </div>
    <div class="cancelbutton" *ngIf="!pictureTaken" (click)="cancelCamera()">
      <img class="center-fit" src='assets/icon/undo.png'>
    </div>
  
    <div class="checkbutton" *ngIf="pictureTaken" (click)="confirmPhoto()">
      <ion-icon size="large" name="checkmark-circle-outline"></ion-icon>
    </div>
    <div class="crossbutton" *ngIf="pictureTaken" (click)="retakePhoto()">
      <ion-icon name="close-circle"></ion-icon>
    </div>
</div>
